#include "dog.h"
#include <stdlib.h>

str_len(char *s);
str_cpy(char *dest, char *src);

/**
 * new_dog - function that creates a new dog
 * @name: dog name
 * @age: dog age
 * @owner: dog owner
 *
 * Return: new dog, if fails return NULL
 *
 */

dog_t *new_dog(char *name, float age, char *owner)
{
	dog_t *dog_new;
	int name_len, owner_len;

	dog_new = malloc(sizeof(dog_t));
	if (dog_new == NULL)
		return (NULL);

	name_len = str_len(name);
	dog_new->name = malloc(sizeof(char) * name_len + 1);
	if (dog_new->name == NULL)
	{
		free(dog_new);
		return (NULL);
	}
	dog_new->name = str_cpy(dog_new->name, name);

	owner_len = str_len(owner);
	dog_new->owner = malloc(sizeof(char) * owner_len + 1);
	if (dog_new->owner == NULL)
	{
		free(dog_new->name);
		free(dog_new);
		return (NULL);
	}
	dog_new->owner = str_cpy(dog_new->owner, owner);

	dog_new->age = age;

	return (dog_new);
}

/**
 * str_len - determine the length of a string
 * @s: input string
 *
 * Return: return the lenght of the string
 *
 */
str_len(char *s)
{
	int i;

	for (i = 0; s[i] != '\0'; i++)
	;
	return (i);
}


/**
 * str_cpy - copy string
 * @dest: destination
 * @src: source string
 *
 * Return: return the dest
 *
 */
str_cpy(char *dest, char *src)
{
	int i = 0;

	while (src[i] != '\0')
	{
		dest[i] = src[i];
		i++;
	}
	dest[i] = '\0';
	return (dest);
}
